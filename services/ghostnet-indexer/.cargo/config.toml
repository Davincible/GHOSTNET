# Cargo Build Configuration
# Optimized for fast compilation during development

[build]
jobs = 8  # Parallel crate compilation

# ═══════════════════════════════════════════════════════════════════════════════
# LINKER CONFIGURATION - Use fast linkers where available
# ═══════════════════════════════════════════════════════════════════════════════

# Linux: Use mold linker (fastest available)
# Install: sudo apt install mold (Debian/Ubuntu) or sudo dnf install mold (Fedora)
[target.x86_64-unknown-linux-gnu]
linker = "clang"
rustflags = ["-C", "link-arg=-fuse-ld=mold"]

[target.aarch64-unknown-linux-gnu]
linker = "clang"
rustflags = ["-C", "link-arg=-fuse-ld=mold"]

# macOS: Use default linker (lld requires manual installation)
# Uncomment below if you have lld installed via: brew install llvm
# [target.x86_64-apple-darwin]
# rustflags = ["-C", "link-arg=-fuse-ld=lld"]
#
# [target.aarch64-apple-darwin]
# rustflags = ["-C", "link-arg=-fuse-ld=lld"]

# Windows: Use lld-link if available
# [target.x86_64-pc-windows-msvc]
# linker = "lld-link"

# ═══════════════════════════════════════════════════════════════════════════════
# NETWORK CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

[net]
git-fetch-with-cli = true

# ═══════════════════════════════════════════════════════════════════════════════
# ALIASES - Convenient shortcuts
# ═══════════════════════════════════════════════════════════════════════════════

[alias]
# Linting
lint = "clippy --all-targets --all-features -- -D warnings"

# Testing with nextest
t = "nextest run"
ta = "nextest run --all-features"

# Watch mode (requires cargo-watch)
w = "watch -x check -x 'test --lib'"

# Documentation
doc = "doc --no-deps --open"
